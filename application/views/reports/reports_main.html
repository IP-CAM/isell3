<script>
    /*global App*/
    ReportsJs={
	init:function(){
	    this.tile.load();
	    
	},
	tile:{
	    report_list:[],
	    load:function(){
		$.get("ReportManager/listFetch/",function(resp){
		    ReportsJs.tile.report_list=App.json(resp);
		    App.renderTpl('reports_tile',{reports:ReportsJs.tile.report_list});
		    
		    ReportsJs.report.load(ReportsJs.tile.report_list[1]);
		    
		    
		});
	    },
	    click:function(node){
		var index=$(node).data('report-index');
		ReportsJs.report.load(ReportsJs.tile.report_list[index]);
	    }
	},
	report:{
	    load:function(rpt_info){
		App.renderTpl('report_info',rpt_info);
	    }
	}
    };
</script>
<style>
    .left_label{
	padding: 3px;
	margin-bottom: 5px;
	border: 1px solid #999;
	border-right: none;
	background: linear-gradient(90deg,rgba(255,255,255,1),rgba(255,255,255,0.5));
    }
    .left_label:hover{
	background: linear-gradient(90deg,rgba(255,255,200,1),rgba(255,255,255,0.5));;
	-border-color: #afa;
	cursor: pointer;
    }
    .left_label_selected,.left_label_selected:hover{
	background: #FF9;
    }
    #reports_tile{
	width:210px;
	float:left;
	border-right: 1px solid #ccc;
	padding-right: 2px;
    }
    #reports_tile .left_label{
	min-height: 30px;
	width:200px;
	float:left;
	border: 1px solid #999;
	margin: 2px;
    }
    #report_info{
	padding: 2px;
	background-color: rgba(255,255,255,0.4);
    }
</style>
</style>
<div id="reports_tile">
    {{reports}}
    <div class="left_label" data-report-index="{{#}}" onclick="ReportsJs.tile.click(this);">
	<img src="img/report24.png"> {{title}}
    </div>
    {{/reports}}
</div>
<div style="width:800px;float:left;overflow: auto">
    <div id="report_info">
	<h2>{{title}}</h2>
	<div style="display: inline-block;width: 300px;vertical-align: top;">
	    {{description}}
	</div>
	<div style="display: inline-block;width: 300px;vertical-align: top;">
	    <b>Автор:</b> {{author}}<br>
	    <b>Версия:</b> {{version}}<br>
	    {{if uri}}<b>Сайт:</b> <a href="{{uri}}" target="_blank">{{uri}}</a><br>{{/if}}
	</div>
    </div>
</div>